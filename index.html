<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Team Organizer API Reference</title>
    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="stylesheets/highlight-monokai.css" rel="stylesheet" type="text/css" media="screen, print" />
    <script src="javascripts/all.js" type="text/javascript"></script>
  </head>
  <body class="" data-languages="[&#34;javascript&#34;]">
    <a href="#" id="nav-button">
      <span> NAV
        <img alt="undefined" class="undefined" src="images/navbar.png"> </span>
    </a>
    <div class="tocify-wrapper">
      <img alt="undefined" class="undefined" src="images/logo.png">
      <div class="lang-selector">
        <a href="#" data-language-name="javascript">javascript</a>
      </div>
      <div class="search">
        <input type="text" class="search" id="input-search" placeholder="Search"> </div>
      <ul class="search-results"></ul>
      <div id="toc"> </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>
        <p>Welcome to Team Organizer&#39;s API Reference. Here you can find the API references for the service to use if you&#39;re a developer wanting to use our API calls. </p>
        <p>We only have language bindings for javascript at the moment which will be on the tabs to the right as you scroll down the documentation.</p>
        <h1 id="authentication">Authentication</h1> <pre class="highlight javascript"><code>
<span class="hljs-string">"Welcome to Team Organizer API! Let's get started"</span></code></pre>
        <p>Team Organizer uses JSON Web Tokens as a means to pass from request to request with passport as the middleware. In this manner, you&#39;re able to have a secure method into all API Routes. Therefore, Team Organizer expects this to be in all your
          Authorization headesr</p>
        <p><code>Authorization: Bearer Token</code></p>
        <aside class="notice"> You must replace <code>Token </code> with token gained from logging in. </aside>
        <h2 id="login">Login</h2>
        <blockquote>
          <p>Here is the body of the request </p>
        </blockquote> <pre class="highlight javascript"><code>{
  <span class="hljs-attr">username</span>: <span class="hljs-string">"Username"</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">"Password"</span>
}</code></pre>
        <blockquote>
          <p>On succesful login, the return is as follows:</p>
        </blockquote> <pre class="highlight javascript"><code>{
  <span class="hljs-attr">message</span>: <span class="hljs-string">"Login Successful"</span>,
  <span class="hljs-attr">token</span>: <span class="hljs-string">"Bearer [Token]"</span>
}</code></pre>
        <blockquote>
          <p>where [Token] is the hashed JWT</p>
        </blockquote>
        <p>This endpoint authenticates and logs the user into the site. Endpoint returns a token where the payload has both the ID of the user and the privileges the user has. Additionally, the token only lasts for 10 hours before it expires and becomes
          no longer usable.</p>
        <h3 id="http-request">HTTP Request</h3>
        <p><code>POST http://localhost:4000/login</code></p>
        <h3 id="query-parameters">Query Parameters</h3>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>username</td>
              <td>String</td>
              <td>The user&#39;s username</td>
            </tr>
            <tr>
              <td>password</td>
              <td>String</td>
              <td>The user&#39;s password</td>
            </tr>
          </tbody>
        </table>
        <h3 id="returns-and-errors">Returns and Errors</h3>
        <table>
          <thead>
            <tr>
              <th>Code</th>
              <th>Message</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>200</td>
              <td>Login Successful</td>
              <td>Successfully logged in.</td>
            </tr>
            <tr>
              <td>401</td>
              <td>Please input a username</td>
              <td>Occurs when empty username field.</td>
            </tr>
            <tr>
              <td>401</td>
              <td>Please input a password</td>
              <td>Occurs when empty password field.</td>
            </tr>
            <tr>
              <td>401</td>
              <td>User has not been found</td>
              <td>User does not exist in the database.</td>
            </tr>
            <tr>
              <td>401</td>
              <td>Wrong Password. Please try again.</td>
              <td>Inputted the wrong password.</td>
            </tr>
          </tbody>
        </table>
        <h1 id="user-apis">User APIs</h1>
        <h2 id="sign-up">Sign up</h2>
        <blockquote>
          <p>Here is the minimum body for the request</p>
        </blockquote> <pre class="highlight javascript"><code>{
  <span class="hljs-attr">email</span>:
  username: 
  firstName:
  lastName:
  password: 
}</code></pre>
        <blockquote>
          <p>On succesful user creation, the return is as follows: </p>
        </blockquote> <pre class="highlight javascript"><code>{
    <span class="hljs-string">"__v"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">"email"</span>: <span class="hljs-string">"test@mail.com"</span>,
    <span class="hljs-string">"username"</span>: <span class="hljs-string">"test"</span>,
    <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"test"</span>,
    <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"test"</span>,
    <span class="hljs-string">"_id"</span>: <span class="hljs-string">"5a176fc7419f4239cc8a0ae6"</span>,
    <span class="hljs-string">"createdDate"</span>: [],
    <span class="hljs-string">"notifications"</span>: [],
    <span class="hljs-string">"groups"</span>: []
}</code></pre>
        <p>This endpoint allows a user to be created. The password must not be more than 160 characters and must contain at least 1 of each: numeric, lower case, uppercase and symbol.</p>
        <h3 id="http-request">HTTP Request</h3>
        <p><code>POST http://localhost:4000/signup</code></p>
        <h3 id="query-parameters">Query Parameters</h3>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Default</th>
              <th>Required</th>
              <th>Type</th>
              <th>Description </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>email</td>
              <td></td>
              <td>true</td>
              <td>String</td>
              <td>The email that the user wants to sign up with</td>
            </tr>
            <tr>
              <td>username</td>
              <td></td>
              <td>true</td>
              <td>String</td>
              <td>The username that the user wants to sign up with </td>
            </tr>
            <tr>
              <td>firstName</td>
              <td></td>
              <td>true</td>
              <td>String</td>
              <td>User&#39;s first name</td>
            </tr>
            <tr>
              <td>lastName</td>
              <td></td>
              <td>true</td>
              <td>String</td>
              <td>User&#39;s last name</td>
            </tr>
            <tr>
              <td>password</td>
              <td></td>
              <td>true</td>
              <td>String</td>
              <td>User&#39;s inputted password. Password will be salted and hashed. </td>
            </tr>
            <tr>
              <td>role</td>
              <td>user</td>
              <td>false</td>
              <td>String</td>
              <td>Can either be &quot;admin&quot; or &quot;user&quot; by setting this value to either or.</td>
            </tr>
            <tr>
              <td>createdDate</td>
              <td>Time of request</td>
              <td>false</td>
              <td>Date</td>
              <td>The date-time of the user&#39;s creation </td>
            </tr>
            <tr>
              <td>groups</td>
              <td>[ ]</td>
              <td>false</td>
              <td>Array</td>
              <td>Groups that user is part of, default is none. </td>
            </tr>
            <tr>
              <td>notifications</td>
              <td>[ ]</td>
              <td>false</td>
              <td>Array</td>
              <td>Notifications that the user has</td>
            </tr>
          </tbody>
        </table>
        <h3 id="returns-and-errors">Returns and Errors</h3>
        <table>
          <thead>
            <tr>
              <th>Code</th>
              <th>Message</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>200</td>
              <td>Returns the user object successfully.</td>
            </tr>
            <tr>
              <td>200</td>
              <td>Too many characters. Password must not be over 160 characters. </td>
            </tr>
            <tr>
              <td>200</td>
              <td>Password must contain at least a numeric character. </td>
            </tr>
            <tr>
              <td>200</td>
              <td>Password must contain at least a lower case character.</td>
            </tr>
            <tr>
              <td>200</td>
              <td>Password must contain at least an upper case character. </td>
            </tr>
            <tr>
              <td>200</td>
              <td>Password must contain at least a symbol character. </td>
            </tr>
            <tr>
              <td>200</td>
              <td>A user with this username already exists, please choose another one. </td>
            </tr>
            <tr>
              <td>200</td>
              <td>This email is already in use!</td>
            </tr>
          </tbody>
        </table>
        <h2 id="get-all-users">Get All Users</h2>
        <blockquote>
          <p>Returns as follows: </p>
        </blockquote> <pre class="highlight javascript"><code>[
  {
        <span class="hljs-string">"_id"</span>: <span class="hljs-string">"5a0bda228918facb5f6"</span>,
        <span class="hljs-string">"email"</span>: <span class="hljs-string">"test@mail.com"</span>,
        <span class="hljs-string">"username"</span>: <span class="hljs-string">"test"</span>,
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"test"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"test"</span>,
        <span class="hljs-string">"password"</span>: <span class="hljs-string">"$2a$10$G6r06l832j1o2jks0.uXnNwSkFX3nJXS"</span>,
        <span class="hljs-string">"__v"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">"createdDate"</span>: [],
        <span class="hljs-string">"notifications"</span>: [],
        <span class="hljs-string">"groups"</span>: [],
        <span class="hljs-string">"role"</span>: [
            <span class="hljs-string">"user"</span>
        ]
    },
      {
        <span class="hljs-string">"_id"</span>: <span class="hljs-string">"5a0aks0gia2wa228918facb5f6"</span>,
        <span class="hljs-string">"email"</span>: <span class="hljs-string">"test2@mail.com"</span>,
        <span class="hljs-string">"username"</span>: <span class="hljs-string">"test2"</span>,
        <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"test2"</span>,
        <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"test2"</span>,
        <span class="hljs-string">"password"</span>: <span class="hljs-string">"$2a$10$0910285102.uXnNwSkFX3nJXS"</span>,
        <span class="hljs-string">"__v"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">"createdDate"</span>: [],
        <span class="hljs-string">"notifications"</span>: [],
        <span class="hljs-string">"groups"</span>: [],
        <span class="hljs-string">"role"</span>: [
            <span class="hljs-string">"admin"</span>
        ]
    },
]</code></pre>
        <aside class="notice">
          <strong>This is an Admin route! </strong>
        </aside>
        <p>Allows the administrator to get all users in the database. Requires [Authorization] header with an admin token.</p>
        <h3 id="http-request">HTTP Request</h3>
        <p><code>GET http://localhost:4000/users</code></p>
        <h3 id="returns-and-errors">Returns and Errors</h3>
        <table>
          <thead>
            <tr>
              <th>Code</th>
              <th>Message</th>
              <th>Description </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>200</td>
              <td>Array of Objects</td>
              <td>Returns all the users in the database.</td>
              <td></td>
            </tr>
            <tr>
              <td>403</td>
              <td>Access denied. User has no admin privileges.</td>
              <td>Token does not possess administrator privileges.</td>
              <td></td>
            </tr>
            <tr>
              <td>401</td>
              <td>Unauthorized</td>
              <td>Means that there was not JWT placed into the authorization header.</td>
              <td></td>
            </tr>
          </tbody>
        </table>
        <h2 id="delete-user">Delete User</h2>
        <aside class="notice">
          <strong> This is an Admin route! </strong>
        </aside>
        <p>Allows the administrator to remove the user from the database and remove the user from all of his groups and his tasks. Requires [Authorization] header with an admin token.</p>
        <h2 id="update-user-information">Update User Information</h2>
        <p>Allows the user to update information about themselves. Specifically: First Name, Last Name and Email. Requires the [Authorization] header with a token.</p>
        <h3 id="http-request">HTTP Request</h3>
        <blockquote>
          <p>Here is an example request body, you need only 1 field to have a valid request.</p>
        </blockquote> <pre class="highlight javascript"><code>{
  <span class="hljs-attr">firstName</span>: <span class="hljs-string">"Team"</span>,
  <span class="hljs-attr">lastName</span>: <span class="hljs-string">"Organizer"</span>, 
  <span class="hljs-attr">email</span>: <span class="hljs-string">"teamOrganizer@mail.com"</span>
}</code></pre>
        <blockquote>
          <p>Here is the return value: </p>
        </blockquote> <pre class="highlight javascript"><code>{
  <span class="hljs-attr">message</span>: <span class="hljs-string">"Successfully updated the user's information."</span>
}</code></pre>
        <p><code>PUT http://localhost:4000/users/:userId</code></p>
        <h3 id="query-parameters">Query Parameters</h3>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Default</th>
              <th>Required</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>firstName</td>
              <td></td>
              <td>false</td>
              <td>String</td>
              <td>The new first name of the user.</td>
            </tr>
            <tr>
              <td>lastName</td>
              <td></td>
              <td>false</td>
              <td>String</td>
              <td>The new last name of the user.</td>
            </tr>
            <tr>
              <td>email</td>
              <td></td>
              <td>false</td>
              <td>String</td>
              <td>The new email of the user.</td>
            </tr>
          </tbody>
        </table>
        <h3 id="returns-and-errors">Returns and Errors</h3>
        <table>
          <thead>
            <tr>
              <th>Code</th>
              <th>Message</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>200</td>
              <td>Successfully updated the user&#39;s information.</td>
              <td>Succesful request and updated the user.</td>
            </tr>
            <tr>
              <td>200</td>
              <td>Cast to ObjectId failed for value &quot;&quot; at path &quot;_id&quot; for model &quot;User&quot;</td>
              <td>There&#39;s an incorrect ID in the userId</td>
            </tr>
            <tr>
              <td>200</td>
              <td>You need to change at least one thing!</td>
              <td>User has an empty body for a request.</td>
            </tr>
          </tbody>
        </table>
        <aside class="warning"> Remember that you need to have at least 1 parameter to consider this a valid request! </aside>
        <h2 id="change-user-password">Change User Password</h2>
        <p>Allows the user to change their password to another one. Requires an [Authorization] header with a token.</p>
        <blockquote>
          <p>Here is how the body of request would look like </p>
        </blockquote> <pre class="highlight javascript"><code>{
  <span class="hljs-attr">password</span>: <span class="hljs-string">"newPassword"</span>
}</code></pre>
        <blockquote>
          <p>Here is what the return of the request would be: </p>
        </blockquote> <pre class="highlight javascript"><code>{
  <span class="hljs-attr">message</span>: <span class="hljs-string">"Password has successfully been changed"</span>
}</code></pre>
        <h3 id="http-request">HTTP Request</h3>
        <p><code>PUT localhost:4000/changePassword/:userId</code></p>
        <h3 id="query-parameters">Query Parameters</h3>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Default</th>
              <th>Required</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>password</td>
              <td></td>
              <td>true</td>
              <td>String</td>
              <td>The new password for the user</td>
            </tr>
          </tbody>
        </table>
        <h3 id="returns-and-errors">Returns and errors</h3>
        <table>
          <thead>
            <tr>
              <th>Code</th>
              <th>Message</th>
              <th>Description </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td> 200</td>
              <td>Password has successfully been changed</td>
              <td>The request has been accepted and password has been changed. </td>
            </tr>
            <tr>
              <td> 200</td>
              <td>Please input a password</td>
              <td>Empty body request</td>
            </tr>
            <tr>
              <td> 200</td>
              <td>Please input a new password</td>
              <td>The password is the same as the previous</td>
            </tr>
            <tr>
              <td> 200</td>
              <td>Cast to ObjectId failed for value &quot;&quot; at path &quot;_id&quot; for model &quot;User&quot;</td>
              <td>Sent an incorrect ID as the userId</td>
            </tr>
          </tbody>
        </table>
        <h1 id="errors">Errors</h1>
        <aside class="notice">These are just general error codes. Please make sure you read the errors for each api call individually and use this only as a quick reference.</aside>
        <p>The Team Organizer API uses the following error codes:</p>
        <table>
          <thead>
            <tr>
              <th>Error Code</th>
              <th>Meaning</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>400</td>
              <td>Bad Request -- Your request sucks</td>
            </tr>
            <tr>
              <td>401</td>
              <td>Unauthorized -- You need a token </td>
            </tr>
            <tr>
              <td>403</td>
              <td>Forbidden -- The method requested is hidden for administrators only</td>
            </tr>
            <tr>
              <td>404</td>
              <td>Not Found -- The specified request could not be found</td>
            </tr>
            <tr>
              <td>405</td>
              <td>Method Not Allowed -- You tried to access a call with an invalid method</td>
            </tr>
            <tr>
              <td>406</td>
              <td>Not Acceptable -- You requested a format that isn&#39;t json</td>
            </tr>
            <tr>
              <td>410</td>
              <td>Gone -- The object requested has been removed from our servers</td>
            </tr>
            <tr>
              <td>418</td>
              <td>I&#39;m a teapot</td>
            </tr>
            <tr>
              <td>429</td>
              <td>Too Many Requests -- You&#39;re requesting too many things! Slow down!</td>
            </tr>
            <tr>
              <td>500</td>
              <td>Internal Server Error -- We had a problem with our server. Try again later.</td>
            </tr>
            <tr>
              <td>503</td>
              <td>Service Unavailable -- We&#39;re temporarially offline for maintanance. Please try again later.</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="dark-box">
        <div class="lang-selector">
          <a href="#" data-language-name="javascript">javascript</a>
        </div>
      </div>
    </div>
  </body>
</html>